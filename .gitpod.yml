tasks:
  - init: Configure
    command: mkdir -p ~/.m2/ && curl -o ~/.m2/settings.xml https://strongbox.github.io/assets/resources/maven/settings.xml && sed -i 's/sdkman_auto_answer=.*/sdkman_auto_answer=true/' ~/.sdkman/etc/config && sdk update && sdk install java 8.0.265-open && sdk default java sdk i java 8.0.265-open
  - name: Build Strongbox
    command: mvn install -DskipTests=false
  - name: Start Strongbox
    command: cd strongbox-web-core && mvn spring-boot:run

ports:
  - port: 48080